services:
  journal:
    build: .
    ports:
      - "8000:8000"
    volumes:
      # Persistent volume for SQLite database
      - journal_data:/app/data
      # Optional: mount static files for development
      # - ./static:/app/static
    environment:
      - DJANGO_SECRET_KEY=${DJANGO_SECRET_KEY:-change-me-in-production}
      - DJANGO_DEBUG=${DJANGO_DEBUG:-False}
      - DJANGO_ALLOWED_HOSTS=${DJANGO_ALLOWED_HOSTS:-localhost,127.0.0.1}
      - DATA_DIR=/app/data
    restart: unless-stopped

volumes:
  journal_data:
    driver: local
